<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz sur la santé mentale</title>
  <!-- Liens vers Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style2.css"/>
</head>
<body>
  <div class="quiz-container">
    <h1>Quiz sur la santé mentale</h1>
    <form class="py-5"id="quizForm">
      <div class="question-container active-question" id="question1">
        <div class="mb-3">
          <p>1. Je me sens déprimé et j'éprouve des difficultés à faire face à la vie quotidienne.</p>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question1[]" value="a">
            Tout à fait d'accord
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question1[]" value="b">
            Un peu, par moment
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question1[]" value="c">
            Pas du tout
          </label>
          <button type="button" class="btn btn-primary next-question"disabled id="bouton">Question Suivante</button>
        </div>
      </div>

      <div class="question-container" id="question2">
        <div class="mb-3">
            <p>2. Je me sens accablé(e) par le stress, j'ai du mal à faire face aux difficultés.</p>
            <label class="form-check">
            <input class="form-check-input" type="radio" name="question2[]" value="a">
            Tout à fait d'accord
            </label>
            <label class="form-check">
            <input class="form-check-input" type="radio" name="question2[]" value="b">
            Un peu, par moment
            </label>
            <label class="form-check">
            <input class="form-check-input" type="radio" name="question2[]" value="c">
            Pas du tout
            </label>
            <button type="button" class="btn btn-primary next-question" id="bouton">Question Suivante</button>
        </div>
      </div>

      <div class="question-container" id="question3">
        <div class="mb-3">
          <p>3. J'ai des problèmes de sommeil persistants, je dors très peu ou trop et ne me sens pas reposé au réveil.</p>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question3[]" value="a">
            Tout à fait d'accord
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question3[]" value="b">
            Un peu, par moment
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question3[]" value="c">
            Pas du tout
          </label>
          <button type="button" class="btn btn-primary next-question" id="bouton">Question Suivante</button>
        </div>
      </div>

      <div class="question-container" id="question4">
        <div class="mb-3">
          <p>4. J'ai une très faible estime de moi-même et je me dévalorise fréquemment.</p>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question4[]" value="a">
            Tout à fait d'accord
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question4[]" value="b">
            Un peu, par moment
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question4[]" value="c">
            Pas du tout
          </label>
          <button type="button" class="btn btn-primary next-question" id="bouton">Question Suivante</button>
        </div>
      </div>

      

      <div class="question-container" id="question5">
        <div class="mb-3">
          <p>5. J'ai des difficultés relationnelles majeures et je me sens complètement isolé(e).</p>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question5[]" value="a">
            Tout à fait d'accord
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question5[]" value="b">
            Un peu, par moment
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="question5[]" value="c">
            Pas du tout
          </label>
          <button type="button" class="btn btn-primary next-question" id="bouton">Question Suivante</button>
        </div>
      </div>
      <div id="result" class="mt-4"></div>
    </form>
  </div>

<!-- Liens vers Bootstrap JS et Popper.js pour les fonctionnalités Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const questions = document.querySelectorAll('.question-container');
  const nextButtons = document.querySelectorAll('.next-question');
  let currentQuestion = 0;

  function showQuestion(index) {
    questions.forEach(question => question.classList.remove('active-question'));
    questions[index].classList.add('active-question');
  }

  function calculateResult() {
  const answers = [];
  questions.forEach((question, index) => {
    const checkboxes = question.querySelectorAll(`#question${index + 1} input[type="radio"]:checked`);
    const values = [];
    checkboxes.forEach(radio => values.push(radio.value));
    answers.push(values); // Stocker les valeurs sans objets supplémentaires
  });

  let resultText = '';

  // Logique pour déterminer le résultat en fonction des réponses
  const anyCSelected = answers.some(answer => answer.includes('c'));
  const anyBSelected = answers.some(answer => answer.includes('b'));

  if (anyCSelected) {
    resultText = 'Votre évaluation suggère que votre santé mentale semble normale.';
  } else if (anyBSelected) {
    resultText = 'Votre évaluation suggère que vous montrez des signes de mal-être, il peut être utile de rechercher un soutien ou une aide professionnelle.';
  } else {
    resultText = 'Votre évaluation suggère qu\'il peut y avoir des signes de problèmes sérieux de santé mentale. Il est fortement recommandé de consulter un professionnel de la santé mentale pour une évaluation approfondie.Votre évaluation suggère que votre santé mentale semble normale.';
  }

  // Affichage du résultat
  document.body.innerHTML = `
    <div class="container">
      <div id="result" class="mt-4">
        <p>${resultText}</p>
        <button class="btn btn-primary restart-quiz">Recommencer le quizz</button>
      </div>
    </div>`;

  // Ajouter un gestionnaire d'événements pour recommencer le quiz
  document.querySelector('.restart-quiz').addEventListener('click', restartQuiz);
}

function restartQuiz() {
  // Recharger la page pour recommencer le quiz
  window.location.reload();
}


  nextButtons.forEach((button, index) => {
    button.addEventListener('click', () => {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
      } else {
        calculateResult();
      }
    });
  });

  const question1Inputs = document.querySelectorAll('input[name="question1[]"]');

question1Inputs.forEach(input => {
  input.addEventListener('click', () => {
    const nextButton = document.querySelector('#question1 .next-question');
    nextButton.disabled = false;
  });
});

</script>
</body>
</html>
